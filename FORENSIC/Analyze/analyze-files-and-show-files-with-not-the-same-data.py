"""
Author      : AnyGuy
Date        : 2023-08-04

Title       : analyze-files-and-show-files-with-not-the-same-data.py

Description : Here comes text
    
    - xy
    - xy
    - xy

"""

# Import Libraries
import os
import hashlib

def calculate_md5(file_path):
    hash_md5 = hashlib.md5()
    with open(file_path, "rb") as f:
        for chunk in iter(lambda: f.read(4096), b""):
            hash_md5.update(chunk)
    return hash_md5.hexdigest()

def analyze_files(directory):
    md5_dict = dict()
    duplicate_md5 = set()
    for root, dirs, files in os.walk(directory):
        for file in files:
            if file.endswith('.txt'):
                file_path = os.path.join(root, file)
                file_md5 = calculate_md5(file_path)
                if file_md5 in md5_dict:
                    duplicate_md5.add(file_md5)
                else:
                    md5_dict[file_md5] = file_path
    
    unique_files = [file_path for file_md5, file_path in md5_dict.items() if file_md5 not in duplicate_md5]
    for file_path in unique_files:
        print(f'Unique content found in {file_path}')

analyze_files('/home/anyguy/Documents/TryHackMe/CTF/Aratus/smb')  # Set here your directory to be analyzed
